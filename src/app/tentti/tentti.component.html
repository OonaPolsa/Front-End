<h1>Liput</h1>
<div *ngFor="let ticket of tickets">
  <h2>{{ticket.ask}}</h2>
  <mat-slider aria-label="unit(s)" min="1" max="5" step="1" value="1"
              (input)="onInputChange($event, ticket)"></mat-slider>
  {{ticket.answer}}
</div>

<mat-slide-toggle (change)="onChange($event.checked)">
  MTK:n jäsen
</mat-slide-toggle>

<div>
  <input readonly placeholder=" Hinta yhteensä:">

</div>

<form (ngSubmit)="submit()" name="form4" #form4="ngForm">
  <div class="row g-3">
    <div class="col">
      <label for="firstName">Etunimi:</label>
      <input type="firstName" class="form-control" id="firstName" [(ngModel)]="customer.firstName" name="firstName"
             required #name='ngModel' minlength="2" ngModel pattern="[a-zA-Z- ]*">
    </div>
    <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger">
      <p *ngIf="name.hasError('required')">Kirjoita etunimesi.</p>
      <p *ngIf="name.hasError('minlength')">Nimen on oltava vähintään 2 merkkiä pitkä.</p>
      <p *ngIf="name.hasError('pattern')">Nimi voi ainoastaan sisältää kirjaimia.</p>
    </div>
  </div>


  <div class="col">
    <label for="lastName">Sukunimi:</label>
    <input type="lastName" class="form-control" id="lastName" [(ngModel)]="customer.lastName" name="lastName"
           #lastname='ngModel' required minlength="2" ngModel pattern="[a-zA-Z- ]*">
  </div>

  <div *ngIf="lastname.invalid && (lastname.dirty || lastname.touched)" class="alert alert-danger">
    <p class="alert alert-danger" *ngIf="lastname.hasError('required')">Kirjoita sukunimesi.</p>
    <p class="alert alert-danger" *ngIf="lastname.hasError('minlength')">Nimen on oltava vähintään 2 merkkiä
      pitkä.</p>
    <p *ngIf="name.hasError('pattern')">Nimi voi ainoastaan sisältää kirjaimia.</p>
  </div>

  <div class="form-group">
    <label for="email">Sähköposti:</label>
    <input type="email" class="form-control" id="email" [(ngModel)]="customer.email" name="email" #email='ngModel'
           required minlength="5" ngModel pattern="^\S+@\S+$">
  </div>
  <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
    <p class="alert alert-danger" *ngIf="email.hasError('required')">Kirjoita sähköpostiosoite.</p>
    <p class="alert alert-danger" *ngIf="email.hasError('minlength')">Sähköpostiosoitteen täytyy olla oikea.</p>
    <p class="alert alert-danger" *ngIf="email.hasError('pattern')">Liput lähetetään tähän sähköpostiin.</p>
  </div>

  <button type="submit" ng-model="button" [disabled]="form4.invalid" class="btn btn-default"
          (click)="submit()">Osta
  </button>

</form>
